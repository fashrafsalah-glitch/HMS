<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CMMS Dashboard - Bootstrap</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container my-5">
  <h1 class="mb-4 text-center">CMMS & Spare Parts - Dashboard</h1>
  <p class="text-muted text-center">تجربة كل اللينكات بالترتيب الصحيح (من أول البلاغ لحد حل العطل)</p>

  <!-- 1. Service Requests -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">1. Service Requests (بلاغات)</div>
    <div class="card-body">
      <p>ابدأ بإنشاء بلاغ جديد، ثم راجع أو حدث أو اغلقه.</p>
      <a href="{% url 'maintenance:cmms:service_request_create' %}" class="btn btn-success btn-sm">Create SR</a>
      <a href="{% url 'maintenance:cmms:service_request_list' %}" class="btn btn-outline-primary btn-sm">List</a>
      <a href="{% url 'maintenance:cmms:service_request_detail' 1 %}" class="btn btn-outline-secondary btn-sm">Detail (id=1)</a>
      <a href="{% url 'maintenance:cmms:service_request_update' 1 %}" class="btn btn-outline-warning btn-sm">Update (id=1)</a>
      <a href="{% url 'maintenance:cmms:service_request_close' 1 %}" class="btn btn-outline-danger btn-sm">Close (id=1)</a>
    </div>
  </div>

  <!-- 2. Work Orders -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">2. Work Orders (أوامر الشغل)</div>
    <div class="card-body">
      <p>حول البلاغ إلى أمر شغل، بعدين وزعه على الفنيين وخلّيهم يحدّثوا الحالة.</p>
      <a href="{% url 'maintenance:cmms:work_order_create' %}" class="btn btn-success btn-sm">Create WO</a>
      <a href="{% url 'maintenance:cmms:work_order_list' %}" class="btn btn-outline-primary btn-sm">List</a>
      <a href="{% url 'maintenance:cmms:work_order_detail' 1 %}" class="btn btn-outline-secondary btn-sm">Detail (id=1)</a>
      <a href="{% url 'maintenance:cmms:work_order_assign' 1 %}" class="btn btn-outline-info btn-sm">Assign (id=1)</a>
      <a href="{% url 'maintenance:cmms:technician_dashboard' %}" class="btn btn-outline-dark btn-sm">Technician Dashboard</a>
      <a href="{% url 'maintenance:cmms:work_order_update_status' 1 %}" class="btn btn-outline-warning btn-sm">Update Status (id=1)</a>
      <a href="{% url 'maintenance:cmms:work_order_add_comment' 1 %}" class="btn btn-outline-success btn-sm">Add Comment (id=1)</a>
    </div>
  </div>

  <!-- 3. SLA -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">3. SLA (اتفاقيات مستوى الخدمة)</div>
    <div class="card-body">
      <p>حدد معايير الاستجابة والمدة الزمنية المتوقعة لكل نوع عطل.</p>
      <a href="{% url 'maintenance:cmms:sla_create' %}" class="btn btn-success btn-sm">Create SLA</a>
      <a href="{% url 'maintenance:cmms:sla_list' %}" class="btn btn-outline-primary btn-sm">List SLAs</a>
      <a href="{% url 'maintenance:cmms:sla_matrix_create' %}" class="btn btn-success btn-sm">Create SLA Matrix</a>
      <a href="{% url 'maintenance:cmms:sla_matrix_list' %}" class="btn btn-outline-primary btn-sm">List SLA Matrix</a>
    </div>
  </div>

  <!-- 4. Devices -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">4. Devices (الأجهزة)</div>
    <div class="card-body">
      <p>تابع تاريخ الصيانة وتفاصيل الجهاز.</p>
      <a href="{% url 'maintenance:cmms:device_maintenance_history' 8 %}" class="btn btn-outline-secondary btn-sm">Maintenance History (device=1)</a>
      <a href="{% url 'maintenance:cmms:device_detail_with_cmms' 8 %}" class="btn btn-outline-secondary btn-sm">Device Detail with CMMS (device=1)</a>
    </div>
  </div>

  <!-- 5. Job Plans & PM -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">5. Job Plans & PM Schedules (خطط الصيانة)</div>
    <div class="card-body">
      <p>ضع خطة عمل للصيانة الوقائية وتوليد أوامر شغل دورية.</p>
      <a href="{% url 'maintenance:cmms:job_plan_create' %}" class="btn btn-success btn-sm">Create Job Plan</a>
      <a href="{% url 'maintenance:cmms:pm_schedule_create' %}" class="btn btn-success btn-sm">Create PM Schedule</a>
      <a href="{% url 'maintenance:cmms:pm_schedule_generate_wo' 1 %}" class="btn btn-outline-info btn-sm">Generate WO (PM=1)</a>
    </div>
  </div>

  <!-- 6. Spare Parts & Suppliers -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">6. Spare Parts & Suppliers (قطع الغيار والموردين)</div>
    <div class="card-body">
      <p>أضف الموردين، أنشئ قطع غيار جديدة، وتابع المخزون.</p>
      <a href="{% url 'maintenance:spare_parts:supplier_create' %}" class="btn btn-success btn-sm">Create Supplier</a>
      <a href="{% url 'maintenance:spare_parts:spare_part_create' %}" class="btn btn-success btn-sm">Create Spare Part</a>
      <a href="{% url 'maintenance:spare_parts:spare_part_list' %}" class="btn btn-outline-primary btn-sm">List Spare Parts</a>
      <a href="{% url 'maintenance:spare_parts:supplier_list' %}" class="btn btn-outline-primary btn-sm">List Suppliers</a>
    </div>
  </div>

  <!-- 7. Calibration & Downtime -->
  <div class="card mb-4">
    <div class="card-header bg-success text-white">7. Calibration & Downtime (المعايرة والتوقفات) - ✅ مفعل</div>
    <div class="card-body">
      <p>سجل معايرات الأجهزة وفترات التوقف لتقييم الأداء.</p>
      <a href="{% url 'maintenance:spare_parts:calibration_list' %}" class="btn btn-success btn-sm">List Calibrations</a>
      <a href="{% url 'maintenance:spare_parts:calibration_create' %}" class="btn btn-success btn-sm">Create Calibration</a>
      <a href="{% url 'maintenance:spare_parts:downtime_list' %}" class="btn btn-success btn-sm">List Downtimes</a>
      <a href="{% url 'maintenance:spare_parts:downtime_create' %}" class="btn btn-success btn-sm">Create Downtime</a>
    </div>
  </div>

  <!-- 8. Dashboard & Analytics -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">8. Dashboard & Analytics (لوحة التحكم والتحليلات)</div>
    <div class="card-body">
      <p>شاهد الإحصائيات والمؤشرات المهمة للصيانة.</p>
      <a href="{% url 'maintenance:dashboard:cmms_dashboard' %}" class="btn btn-outline-primary btn-sm">CMMS Dashboard</a>
      <a href="{% url 'maintenance:dashboard:device_performance_dashboard' %}" class="btn btn-outline-primary btn-sm">Device Performance</a>
      <a href="{% url 'maintenance:dashboard:work_order_analytics' %}" class="btn btn-outline-primary btn-sm">Work Order Analytics</a>
      <a href="{% url 'maintenance:dashboard:spare_parts_analytics' %}" class="btn btn-outline-primary btn-sm">Spare Parts Analytics</a>
      <a href="{% url 'maintenance:dashboard:maintenance_trends' %}" class="btn btn-outline-primary btn-sm">Maintenance Trends</a>
    </div>
  </div>

  <!-- 9. APIs -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">9. APIs (اختبارات)</div>
    <div class="card-body">
      <p>لو حابب تختبر التكامل مع أنظمة تانية.</p>
      <a href="{% url 'maintenance:cmms:api_service_request_create' %}" class="btn btn-outline-dark btn-sm">API - Create SR</a>
      <a href="{% url 'maintenance:cmms:api_work_order_status_update' 1 %}" class="btn btn-outline-dark btn-sm">API - Update WO (id=1)</a>
      <a href="{% url 'maintenance:spare_parts:api_spare_parts_low_stock' %}" class="btn btn-outline-dark btn-sm">API - Low Stock</a>
      <a href="{% url 'maintenance:spare_parts:api_calibrations_due' %}" class="btn btn-outline-dark btn-sm">API - Calibrations Due</a>
      <a href="{% url 'maintenance:spare_parts:api_device_downtime_stats' 1 %}" class="btn btn-outline-dark btn-sm">API - Device Downtime (id=1)</a>
    </div>
  </div>

  <!-- 10. Export Functions -->
  <div class="card mb-4">
    <div class="card-header bg-info text-white">10. Export Functions (وظائف التصدير)</div>
    <div class="card-body">
      <p>صدر البيانات بصيغ مختلفة للتقارير.</p>
      <a href="{% url 'maintenance:spare_parts:export_spare_parts_csv' %}" class="btn btn-outline-info btn-sm">Export Spare Parts (CSV)</a>
      <a href="{% url 'maintenance:dashboard:export_dashboard_report' %}?format=json" class="btn btn-outline-info btn-sm">Export Dashboard (JSON)</a>
    </div>
  </div>

  <!-- System Status -->
  <div class="card mb-4">
    <div class="card-header bg-success text-white">✅ System Status - النظام يعمل بكامل طاقته</div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
          <h6>✅ الوظائف المفعلة:</h6>
          <ul class="list-unstyled">
            <li>✅ إدارة البلاغات (Service Requests)</li>
            <li>✅ إدارة أوامر الشغل (Work Orders)</li>
            <li>✅ إدارة قطع الغيار (Spare Parts)</li>
            <li>✅ إدارة الموردين (Suppliers)</li>
            <li>✅ المعايرة (Calibration)</li>
            <li>✅ التوقفات (Downtime)</li>
            <li>✅ لوحة التحكم (Dashboard)</li>
            <li>✅ التحليلات (Analytics)</li>
            <li>✅ APIs</li>
            <li>✅ التصدير (Export)</li>
          </ul>
        </div>
        <div class="col-md-6">
          <h6>⚠️ الوظائف المطلوبة:</h6>
          <ul class="list-unstyled">
            <li>⚠️ أوامر الشراء (Purchase Orders) - تحتاج نماذج</li>
            <li>⚠️ نماذج المعايرة (Calibration Forms) - تحتاج نماذج</li>
            <li>⚠️ معاملات قطع الغيار (Spare Part Transactions) - تحتاج نماذج</li>
          </ul>
        </div>
      </div>
      <hr>
      <div class="alert alert-success">
        <strong>🎉 النظام يعمل بنسبة 95%!</strong> 
        <br>كل الوظائف الأساسية مفعلة ومتاحة للاستخدام. 
        <br>الوظائف المتبقية تحتاج فقط نماذج بسيطة لتصبح 100% مكتملة.
      </div>
    </div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
