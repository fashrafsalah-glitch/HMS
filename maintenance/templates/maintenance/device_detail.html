{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-3">Device: {{ device.brief_description }}</h2>

    <div class="mb-3">
        <a href="{% url 'maintenance:device_info' device.id %}" class="btn btn-primary">ğŸ“ Ø§Ù„ØªÙØ§ØµÙŠÙ„</a>
        <a href="{% url 'maintenance:device_transfer_history' device.id %}" class="btn btn-outline-primary my-2">
         ğŸ“‹ Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
        </a>
        <a href="{% url 'maintenance:add_accessory' device.id %}" class="btn btn-secondary">â• Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø­Ù‚Ø§Øª</a>
        <a href="{% url 'maintenance:maintenance_schedule' device.id %}" class="btn btn-success">ğŸ› ï¸ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ØµÙŠØ§Ù†Ø©</a>
        <a href="{% url 'maintenance:add_emergency_request' device.id %}" class="btn btn-danger">ğŸš¨ Ø·Ù„Ø¨ ØµÙŠØ§Ù†Ø© Ù…Ø³ØªØ¹Ø¬Ù„</a>
        <a href="{% url 'maintenance:add_spare_part' device.id %}" class="btn btn-warning">ğŸ”§ Ø¥Ø¶Ø§ÙØ© Ù‚Ø·Ø¹ ØºÙŠØ§Ø±</a>
    </div>

    <hr>
    <h5>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²:</h5>
    <ul>
        <li><strong>Ø±Ù‚Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²:</strong> {{ device.device_id }}</li>
        <li><strong>Ø§Ù„Ø§Ø³Ù…:</strong> {{ device.brief_description }}</li>
        <li><strong>Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„:</strong> {{ device.model }}</li>
        <li><strong>Ø§Ù„Ù‚Ø³Ù…:</strong> {{ device.department.name }}</li>
        <li><strong>Ø§Ù„Ø­Ø¬Ø±Ø©:</strong> {{ device.room }}</li>
        <li><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> {{ device.get_status_display }}</li>
        <li><strong>Ø§Ù„Ù†Ø¸Ø§ÙØ©:</strong> {{ device.get_clean_status_display }}</li>
        <li><strong>Ø§Ù„ØªØ¹Ù‚ÙŠÙ…:</strong> {{ device.get_sterilization_status_display }}</li>
    </ul>
</div>

<hr>
<div class="d-flex gap-2">
  <a href="{% url 'maintenance:clean_device' device.id %}" class="btn btn-warning">ğŸ§½  ØªÙ… ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¬Ù‡Ø§Ø² </a>
  <a href="{% url 'maintenance:sterilize_device' device.id %}" class="btn btn-info">ğŸ§´ ØªÙ… ØªØ¹Ù‚ÙŠÙ… Ø§Ù„Ø¬Ù‡Ø§Ø²</a>
  <a href="{% url 'maintenance:perform_maintenance' device.id %}" class="btn btn-success">ğŸ”§ ØªÙ… ÙØ­Øµ  Ø§Ù„Ø¬Ù‡Ø§Ø²</a>
</div>

<hr>
<div class="mt-3">
  <a href="{% url 'maintenance:cleaning_history' device.id %}" class="btn btn-outline-warning btn-sm">ğŸ“„ Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„ØªÙ†Ø¸ÙŠÙ</a>
  <a href="{% url 'maintenance:sterilization_history' device.id %}" class="btn btn-outline-info btn-sm">ğŸ“„ Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„ØªØ¹Ù‚ÙŠÙ…</a>
  <a href="{% url 'maintenance:maintenance_history' device.id %}" class="btn btn-outline-success btn-sm">ğŸ“„ Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„ØµÙŠØ§Ù†Ø©</a>
</div>

{% if device.last_cleaned_by %}
  <p class="mt-2">ğŸ§½ Ø¢Ø®Ø± ØªÙ†Ø¸ÙŠÙ: {{ device.last_cleaned_at|date:"Y-m-d H:i" }} Ø¨ÙˆØ§Ø³Ø·Ø© {{ device.last_cleaned_by }}</p>
{% endif %}
{% if device.last_sterilized_by %}
  <p>ğŸ§´ Ø¢Ø®Ø± ØªØ¹Ù‚ÙŠÙ…: {{ device.last_sterilized_at|date:"Y-m-d H:i" }} Ø¨ÙˆØ§Ø³Ø·Ø© {{ device.last_sterilized_by }}</p>
{% endif %}
{% if device.last_maintained_by %}
  <p>ğŸ”§ Ø¢Ø®Ø± ØµÙŠØ§Ù†Ø©: {{ device.last_maintained_at|date:"Y-m-d H:i" }} Ø¨ÙˆØ§Ø³Ø·Ø© {{ device.last_maintained_by }}</p>
{% endif %}

{% endblock %}