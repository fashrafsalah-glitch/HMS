{% extends "base.html" %}
{% load static %}

{% block title %}PDF Settings{% endblock %}

{% block content %}
<div class="container my-4">
  <h2 class="mb-3">PDF Settings</h2>

  {% if messages %}
    {% for m in messages %}
      <div class="alert alert-{{ m.tags }}">{{ m }}</div>
    {% endfor %}
  {% endif %}

  <form method="post" enctype="multipart/form-data" class="card p-3">
    {% csrf_token %}
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Header Text</label>
        {{ form.header_text }}
      </div>
      <div class="col-md-6">
        <label class="form-label">Footer Text</label>
        {{ form.footer_text }}
      </div>

      <div class="col-md-6">
        <label class="form-label">Header Image</label><br>
        {{ form.header_image }}
        {% if form.instance.header_image %}
          <div class="mt-2">
            <img src="{{ form.instance.header_image.url }}" alt="Header" style="max-height:80px">
          </div>
        {% endif %}
      </div>

      <div class="col-md-3 form-check mt-4">
        {{ form.include_patient_details }} <label class="form-check-label ms-1">Include patient details</label>
      </div>
      <div class="col-md-3 form-check mt-4">
        {{ form.include_companion_info }} <label class="form-check-label ms-1">Include companion info</label>
      </div>
      <div class="col-md-3 form-check mt-4">
        {{ form.include_medical_records }} <label class="form-check-label ms-1">Include medical records</label>
      </div>

      <div class="col-md-3">
        <label class="form-label">Font size</label>
        {{ form.font_size }}
      </div>
      <div class="col-md-3">
        <label class="form-label">Table border color</label>
        {{ form.table_border_color }}
      </div>
    </div>

    <div class="mt-4 d-flex gap-2">
      <button type="submit" class="btn btn-primary">Save</button>
      <a class="btn btn-secondary" href="{% url 'manager:patient_list' %}">Back</a>
    </div>
  </form>
</div>
{% endblock %}